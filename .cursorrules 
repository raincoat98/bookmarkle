# Bookmarkle 프로젝트 Cursor IDE 규칙

## 프로젝트 구조
```
/bookmarkle-browser-extension   # Chrome MV3 확장 프로그램 (JavaScript)
/bookmarkle-web-dashboard       # Vite + React + TypeScript 웹 대시보드
/bookmarkle-signin-popup        # Firebase 로그인 팝업 (정적 HTML/JS)
```

## 프로젝트 개요
- **확장 프로그램**: Chrome Manifest V3, Vanilla JS
- **웹 대시보드**: React 18+ + TypeScript + Vite
- **로그인 팝업**: Firebase Auth, 정적 HTML/JS
- 모든 프로젝트는 Firebase 연동

## 커밋 메시지 규칙

### 형식
```
<타입>(<범위>): <제목>

<본문>

Jira: <이슈키>
```

### 커밋 타입
- `feat`: 새로운 기능 (컴포넌트, 페이지, 기능)
- `fix`: 버그 수정
- `style`: UI/UX 스타일 변경 (CSS, 디자인)
- `refactor`: 코드 리팩토링
- `perf`: 성능 최적화
- `test`: 테스트 추가/수정
- `docs`: 문서 수정
- `chore`: 의존성 업데이트, 설정 변경
- `build`: 빌드 설정 변경

### 범위 예시
**공통:**
- `firebase`: Firebase 관련 (Auth, Firestore 등)
- `api`: API 통신
- `utils`: 유틸리티 함수
- `types`: 타입 정의
- `config`: 설정 파일

**bookmarkle-browser-extension:**
- `background`: Service Worker (background script)
- `content`: Content Script
- `popup`: 확장 프로그램 팝업
- `options`: 옵션 페이지
- `manifest`: manifest.json 관련

**bookmarkle-web-dashboard:**
- `components`: React 컴포넌트
- `pages`: 페이지 컴포넌트
- `hooks`: 커스텀 훅
- `store`: 상태 관리
- `router`: 라우팅
- `styles`: 스타일링

**bookmarkle-signin-popup:**
- `auth`: 인증 로직
- `ui`: UI 요소

### 커밋 예시 (Jira 연동)
```
feat(extension/popup): 북마크 추가 버튼 구현

확장 프로그램 팝업에서 현재 탭을 북마크로 저장하는 기능 추가
Firestore에 북마크 데이터 저장

Project: bookmarkle-browser-extension
Jira: BOOK-123
```

```
fix(dashboard/components): BookmarkCard 렌더링 오류 수정

북마크 데이터가 없을 때 발생하던 에러 수정
null 체크 로직 추가

Project: bookmarkle-web-dashboard
Jira: BOOK-456
```

```
feat(popup/auth): Google 로그인 버튼 추가

Firebase Auth를 이용한 Google 소셜 로그인 구현
팝업 창에서 로그인 처리

Project: bookmarkle-signin-popup
Jira: BOOK-789
```

### Jira 이슈 참조 규칙
- 푸터에 `Project: <프로젝트명>` 명시
- 푸터에 `Jira: 이슈키` 형식으로 작성
- 여러 프로젝트 관련 시: `Project: bookmarkle-browser-extension, bookmarkle-web-dashboard`
- 브랜치명에도 Jira 이슈 포함

## 프로젝트별 코드 작성 규칙

### 1. bookmarkle-browser-extension (Chrome MV3)

#### 파일 구조
```
bookmarkle-browser-extension/
├── background.js                  # Background Service Worker
├── firebase-config.example.js     # Firebase 환경변수 예시
├── firebase-config.js             # 실제 Firebase 환경변수
├── icon_info.txt                  # 아이콘 정보 파일
├── lucide.js                      # Lucide(아이콘) 번들 또는 유틸
├── manifest.json                  # MV3 매니페스트
├── offscreen.html                 # Offscreen 문서
├── offscreen.js                   # Offscreen Script
├── package.json
├── package-lock.json
├── popup.css
├── popup.html
├── popup.js
├── PRIVACY_POLICY.md
```

#### 코딩 규칙
```javascript
// ✅ Good - Chrome API 사용
chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {
  if (message.type === 'ADD_BOOKMARK') {
    handleAddBookmark(message.data)
      .then(result => sendResponse({ success: true, data: result }))
      .catch(error => sendResponse({ success: false, error: error.message }));
    return true; // 비동기 응답을 위해 true 반환
  }
});

// ✅ Good - Storage 사용
const saveBookmark = async (bookmark) => {
  try {
    await chrome.storage.sync.set({ [`bookmark_${bookmark.id}`]: bookmark });
  } catch (error) {
    console.error('Storage save error:', error);
  }
};

// ❌ Bad - localStorage 사용 (MV3에서 제한적)
localStorage.setItem('bookmark', JSON.stringify(bookmark));
```

#### MV3 주의사항
- Service Worker는 이벤트 기반, 항상 실행되지 않음
- `chrome.storage` API 사용 (`localStorage` 대신)
- Content Security Policy 준수
- Background에서 DOM 접근 불가

---

### 2. bookmarkle-web-dashboard (React + TypeScript)

#### 파일 구조
```
bookmarkle-web-dashboard/
├── src/
│   ├── assets/
│   ├── components/
│   ├── data/
│   ├── hooks/
│   ├── i18n/
│   ├── pages/
│   ├── scripts/
│   ├── stores/
│   ├── types/
│   ├── utils/
│   ├── App.tsx
│   ├── firebase.ts
│   ├── index.css
│   ├── main.tsx
│   └── vite-env.d.ts
├── .env
├── .env.example
├── .firebase
├── .gitignore
├── eslint.config.js
├── firebase.json
├── index.html
├── package-lock.json
├── package.json
├── pgile-debug.log
├── postcss.config.cjs
├── README.md
├── tailwind.config.js
├── tsconfig.app.json
├── tsconfig.json
├── tsconfig.node.json
└── vite.config.ts
```

#### React 컴포넌트 구조 (Dashboard)
```typescript
// 1. Import 순서
import React, { useState, useEffect } from 'react'; // React 관련
import { useNavigate } from 'react-router-dom'; // 외부 라이브러리
import { Button } from '@/components/ui'; // 내부 컴포넌트
import { fetchUserData } from '@/api/user'; // API/유틸리티
import { useAuthStore } from '@/store/auth'; // 상태 관리
import styles from './UserProfile.module.css'; // 스타일
import type { User } from '@/types'; // 타입

// 2. 타입 정의
interface UserProfileProps {
  userId: string;
  onUpdate?: (user: User) => void;
}

// 3. 컴포넌트 정의
export const UserProfile: React.FC<UserProfileProps> = ({ 
  userId, 
  onUpdate 
}) => {
  // 4. Hooks (useState, useEffect, 커스텀 훅 순서)
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(false);
  const navigate = useNavigate();
  const { isAuthenticated } = useAuthStore();

  useEffect(() => {
    loadUser();
  }, [userId]);

  // 5. 이벤트 핸들러
  const handleUpdate = async () => {
    // 로직
  };

  // 6. 렌더 로직
  if (loading) return <div>Loading...</div>;
  if (!user) return <div>User not found</div>;

  // 7. JSX 반환
  return (
    <div className={styles.container}>
      {/* 컴포넌트 내용 */}
    </div>
  );
};
```

---

### 3. bookmarkle-signin-popup (정적 HTML/JS)

#### 파일 구조
```
bookmarkle-signin-popup/
├── index.html
├── auth.js              # Firebase Auth 로직
├── style.css
└── firebase-config.js   # Firebase 설정
```

#### 코딩 규칙
```javascript
// ✅ Good - 정적 페이지 Firebase Auth
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js';
import { getAuth, signInWithPopup, GoogleAuthProvider } from 'https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js';

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

document.getElementById('googleSignIn').addEventListener('click', async () => {
  try {
    const provider = new GoogleAuthProvider();
    const result = await signInWithPopup(auth, provider);
    
    // 부모 창에 결과 전달
    if (window.opener) {
      window.opener.postMessage({
        type: 'AUTH_SUCCESS',
        user: result.user
      }, '*');
      window.close();
    }
  } catch (error) {
    console.error('Auth error:', error);
    showError(error.message);
  }
});

// ✅ Good - 간단하고 명확한 DOM 조작
const showError = (message) => {
  const errorEl = document.getElementById('error');
  errorEl.textContent = message;
  errorEl.style.display = 'block';
};
```

#### 정적 페이지 주의사항
- CDN에서 Firebase SDK import
- Vanilla JavaScript 사용 (프레임워크 없음)
- 팝업 창 postMessage로 부모 창과 통신
- 최소한의 파일 크기 유지

---

## 공통 코딩 규칙

### Firebase 연동
```javascript
// ✅ Good - 공통 Firebase 초기화
const firebaseConfig = {
  apiKey: process.env.FIREBASE_API_KEY,
  authDomain: process.env.FIREBASE_AUTH_DOMAIN,
  projectId: process.env.FIREBASE_PROJECT_ID,
  // ...
};

// ✅ Good - Firestore 북마크 저장
const addBookmark = async (bookmark) => {
  const bookmarkRef = doc(db, 'bookmarks', bookmark.id);
  await setDoc(bookmarkRef, {
    ...bookmark,
    createdAt: serverTimestamp(),
    userId: auth.currentUser.uid
  });
};

// ✅ Good - 에러 처리
try {
  await addBookmark(newBookmark);
} catch (error) {
  if (error.code === 'permission-denied') {
    console.error('Permission denied');
  } else {
    console.error('Firestore error:', error);
  }
}
```

### 프로젝트 간 통신
```javascript
// Extension → Dashboard: Chrome Message
chrome.runtime.sendMessage({
  type: 'SYNC_BOOKMARKS',
  data: bookmarks
});

// Popup → Extension: postMessage
window.opener.postMessage({
  type: 'AUTH_SUCCESS',
  user: userData
}, '*');

// Dashboard → Firebase: Realtime sync
onSnapshot(query(collection(db, 'bookmarks')), (snapshot) => {
  const bookmarks = snapshot.docs.map(doc => ({
    id: doc.id,
    ...doc.data()
  }));
  updateBookmarkList(bookmarks);
});
```

### 네이밍 규칙 (전체 프로젝트 공통)
- **컴포넌트**: PascalCase (예: `UserProfile`, `LoginForm`)
- **컴포넌트 파일**: PascalCase.tsx (예: `UserProfile.tsx`)
- **훅**: use로 시작하는 camelCase (예: `useAuth`, `useFetch`)
- **Props 타입**: 컴포넌트명 + Props (예: `UserProfileProps`)
- **이벤트 핸들러**: handle로 시작 (예: `handleClick`, `handleSubmit`)
- **Boolean 변수**: is, has, should로 시작 (예: `isLoading`, `hasError`)
- **상수**: UPPER_SNAKE_CASE (예: `API_BASE_URL`, `MAX_RETRY_COUNT`)

### 컴포넌트 작성 원칙

#### 1. Props는 구조 분해 할당으로 받기
```typescript
// ✅ Good
const Button: React.FC<ButtonProps> = ({ text, onClick, disabled = false }) => {
  return <button onClick={onClick} disabled={disabled}>{text}</button>;
};

// ❌ Bad
const Button: React.FC<ButtonProps> = (props) => {
  return <button onClick={props.onClick}>{props.text}</button>;
};
```

#### 2. 조건부 렌더링
```typescript
// ✅ Good - Early return
if (loading) return <Spinner />;
if (error) return <ErrorMessage error={error} />;

// ✅ Good - 삼항 연산자 (간단한 경우)
{isLoggedIn ? <Dashboard /> : <LoginForm />}

// ✅ Good - && 연산자
{showModal && <Modal />}

// ❌ Bad - 중첩된 삼항 연산자
{isLoggedIn ? (hasPermission ? <AdminPanel /> : <UserPanel />) : <Login />}
```

#### 3. 컴포넌트 분리
- 100줄 이상이면 분리 검토
- 재사용 가능한 부분은 별도 컴포넌트로
- 복잡한 로직은 커스텀 훅으로 추출

```typescript
// ✅ Good
const UserList = () => {
  const { users, loading, error } = useUsers();
  
  if (loading) return <LoadingSpinner />;
  if (error) return <ErrorMessage error={error} />;
  
  return (
    <div>
      {users.map(user => (
        <UserCard key={user.id} user={user} />
      ))}
    </div>
  );
};
```

### Hooks 사용 규칙

#### 1. useState
```typescript
// ✅ Good - 관련 상태는 객체로 그룹화
const [formData, setFormData] = useState({
  email: '',
  password: '',
  rememberMe: false
});

// ✅ Good - 복잡한 상태는 useReducer 고려
const [state, dispatch] = useReducer(reducer, initialState);

// ❌ Bad - 너무 많은 개별 useState
const [email, setEmail] = useState('');
const [password, setPassword] = useState('');
const [name, setName] = useState('');
// ... 10개 이상
```

#### 2. useEffect
```typescript
// ✅ Good - 의존성 배열 정확히 명시
useEffect(() => {
  fetchData(userId);
}, [userId]);

// ✅ Good - cleanup 함수 사용
useEffect(() => {
  const timer = setTimeout(() => {
    // 로직
  }, 1000);
  
  return () => clearTimeout(timer);
}, []);

// ❌ Bad - 빈 의존성 배열로 경고 무시
useEffect(() => {
  // userId를 사용하지만 의존성에 없음
  fetchData(userId);
}, []); // eslint-disable-line
```

#### 3. 커스텀 훅 작성
```typescript
// ✅ Good
export const useAuth = () => {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    checkAuth();
  }, []);

  const login = async (credentials: Credentials) => {
    // 로그인 로직
  };

  const logout = () => {
    // 로그아웃 로직
  };

  return { user, loading, login, logout };
};
```

### 성능 최적화

#### 1. useMemo, useCallback 사용
```typescript
// ✅ Good - 비용이 큰 계산은 메모이제이션
const sortedUsers = useMemo(() => {
  return users.sort((a, b) => a.name.localeCompare(b.name));
}, [users]);

// ✅ Good - 콜백 함수 메모이제이션
const handleClick = useCallback(() => {
  onItemClick(item.id);
}, [item.id, onItemClick]);
```

#### 2. React.memo 사용
```typescript
// ✅ Good - props가 자주 변경되지 않는 컴포넌트
export const ExpensiveComponent = React.memo<ExpensiveComponentProps>(
  ({ data }) => {
    return <div>{/* 복잡한 렌더링 */}</div>;
  }
);
```

#### 3. 코드 스플리팅
```typescript
// ✅ Good - lazy loading
const Dashboard = lazy(() => import('@/pages/Dashboard'));
const Settings = lazy(() => import('@/pages/Settings'));

<Suspense fallback={<LoadingSpinner />}>
  <Routes>
    <Route path="/dashboard" element={<Dashboard />} />
    <Route path="/settings" element={<Settings />} />
  </Routes>
</Suspense>
```

### 스타일링 규칙

#### CSS Modules 사용 시
```typescript
// ✅ Good
import styles from './Button.module.css';

<button className={styles.primary}>Click</button>
<div className={`${styles.card} ${isActive ? styles.active : ''}`}>
```

#### Tailwind CSS 사용 시
```typescript
// ✅ Good - 조건부 클래스
<button 
  className={`
    px-4 py-2 rounded
    ${variant === 'primary' ? 'bg-blue-500' : 'bg-gray-500'}
    ${disabled ? 'opacity-50 cursor-not-allowed' : 'hover:bg-blue-600'}
  `}
>
```

### 에러 처리

```typescript
// ✅ Good - Error Boundary 사용
class ErrorBoundary extends React.Component<Props, State> {
  static getDerivedStateFromError(error: Error) {
    return { hasError: true };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Error caught:', error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return <ErrorFallback />;
    }
    return this.props.children;
  }
}

// ✅ Good - try-catch 사용
const fetchData = async () => {
  try {
    setLoading(true);
    const data = await api.getData();
    setData(data);
  } catch (error) {
    setError(error instanceof Error ? error.message : 'Unknown error');
  } finally {
    setLoading(false);
  }
};
```

### 타입스크립트 규칙

```typescript
// ✅ Good - 명확한 타입 정의
interface User {
  id: string;
  name: string;
  email: string;
  role: 'admin' | 'user';
}

// ✅ Good - Props 타입 정의
interface ButtonProps {
  text: string;
  onClick: () => void;
  variant?: 'primary' | 'secondary';
  disabled?: boolean;
}

// ❌ Bad - any 타입 사용
const handleData = (data: any) => {
  // 타입 안정성 상실
};

// ✅ Good - Generic 사용
const useApi = <T,>(url: string) => {
  const [data, setData] = useState<T | null>(null);
  // ...
};
```

## 폴더 구조

### bookmarkle-browser-extension
```
bookmarkle-browser-extension/
├── manifest.json
├── background.js
├── firebase-config.example.js
├── firebase-config.js
├── icon_info.txt
├── lucide.js
├── manifest.json
├── offscreen.html
├── offscreen.js
├── package.json
├── package-lock.json
├── popup.css
├── popup.html
├── popup.js
├── PRIVACY_POLICY.md
```

### bookmarkle-web-dashboard
```
bookmarkle-web-dashboard/
├── src/
├── .env
├── .env.example
├── .firebase
├── .gitignore
├── eslint.config.js
├── firebase.json
├── index.html
├── package-lock.json
├── package.json
├── pgile-debug.log
├── postcss.config.cjs
├── README.md
├── tailwind.config.js
├── tsconfig.app.json
├── tsconfig.json
├── tsconfig.node.json
└── vite.config.ts
├── public/
├── assets/
├── components/
├── data/
├── hooks/
├── i18n/
├── pages/
├── scripts/
├── stores/
├── types/
├── utils/
├── App.tsx
├── firebase.ts
├── index.css
├── main.tsx
└── vite-env.d.ts
```

### bookmarkle-signin-popup
```
bookmarkle-signin-popup/
├── config.js
├── index.html
├── signInWithPopup.js
└── manifest.json
```

## 테스트 규칙

### bookmarkle-browser-extension
```javascript
// Chrome Extension 테스트는 수동 테스트 위주
// 체크리스트:
// - [ ] Service Worker가 정상 작동하는가?
// - [ ] Content Script가 올바르게 주입되는가?
// - [ ] Chrome Storage 읽기/쓰기가 작동하는가?
// - [ ] Message passing이 정상 작동하는가?
// - [ ] 권한(permissions)이 올바르게 설정되었는가?
```

### bookmarkle-web-dashboard (React Testing Library)
```typescript
// ✅ Good - React Testing Library 사용
import { render, screen, fireEvent, waitFor } from '@testing-library/react';

describe('BookmarkCard Component', () => {
  it('renders bookmark data correctly', () => {
    const bookmark = {
      id: '1',
      title: 'Test Bookmark',
      url: 'https://example.com'
    };
    
    render(<BookmarkCard bookmark={bookmark} />);
    expect(screen.getByText('Test Bookmark')).toBeInTheDocument();
    expect(screen.getByText('https://example.com')).toBeInTheDocument();
  });

  it('calls onDelete when delete button clicked', async () => {
    const handleDelete = jest.fn();
    render(<BookmarkCard bookmark={mockBookmark} onDelete={handleDelete} />);
    
    fireEvent.click(screen.getByRole('button', { name: /delete/i }));
    await waitFor(() => expect(handleDelete).toHaveBeenCalledTimes(1));
  });
});
```

### bookmarkle-signin-popup
```javascript
// 정적 페이지는 브라우저 수동 테스트
// 체크리스트:
// - [ ] Firebase Auth 초기화가 정상적으로 되는가?
// - [ ] Google 로그인 버튼 클릭 시 팝업이 열리는가?
// - [ ] 로그인 성공 시 부모 창에 메시지가 전달되는가?
// - [ ] 에러 발생 시 에러 메시지가 표시되는가?
```

## Git 브랜치 전략 (Jira 연동)

### 브랜치 네이밍
- `main`: 프로덕션 배포
- `develop`: 개발 통합
- `feature/BOOK-123-extension-popup-ui`: 새 기능 (Jira 이슈키 + 프로젝트 포함)
- `fix/BOOK-456-dashboard-rendering-bug`: 버그 수정
- `refactor/BOOK-789-popup-auth-flow`: 리팩토링
- `hotfix/BOOK-999-extension-crash`: 긴급 수정

### 프로젝트별 브랜치 예시
```
# 확장 프로그램
feature/BOOK-123-extension-background-sync
fix/BOOK-456-extension-content-script-error

# 웹 대시보드
feature/BOOK-234-dashboard-bookmark-list
fix/BOOK-567-dashboard-login-redirect

# 로그인 팝업
feature/BOOK-345-popup-google-auth
fix/BOOK-678-popup-firebase-error

# 여러 프로젝트 동시 작업
feature/BOOK-456-cross-project-auth-sync
```

### 규칙
- 브랜치명에 Jira 이슈 키 필수 포함
- 이슈 키 다음 프로젝트 구분자 포함 (extension/dashboard/popup)
- 설명은 kebab-case로 작성
- 여러 프로젝트 관련 시 cross-project 사용

## PR (Pull Request) 규칙

### PR 제목 형식
```
[BOOK-123] feat(extension/popup): 북마크 추가 버튼 구현
[BOOK-456] fix(dashboard/components): BookmarkCard 렌더링 오류 수정
[BOOK-789] feat(popup/auth): Google 로그인 구현
```

### PR 설명 템플릿
```markdown
## Jira 이슈
- [BOOK-123](https://your-domain.atlassian.net/browse/BOOK-123)

## 영향받는 프로젝트
- [x] bookmarkle-browser-extension
- [ ] bookmarkle-web-dashboard
- [ ] bookmarkle-signin-popup

## 변경 사항
- 확장 프로그램 팝업에 북마크 추가 버튼 구현
- 현재 탭 정보를 가져와 Firestore에 저장
- 성공/실패 토스트 메시지 표시

## 변경 이유
- 사용자가 웹사이트를 방문하면서 즉시 북마크할 수 있도록 개선
- 확장 프로그램에서 원클릭 북마크 기능 제공

## 테스트 방법
1. Chrome에서 확장 프로그램 로드
2. 임의의 웹사이트 방문
3. 확장 프로그램 아이콘 클릭
4. "북마크 추가" 버튼 클릭
5. Firestore에 데이터가 저장되는지 확인
6. Dashboard에서 북마크가 표시되는지 확인

## 스크린샷 (UI 변경 시)
| Extension Popup | Dashboard |
|-----------------|-----------|
| [이미지] | [이미지] |

## 영향 범위
- 영향받는 파일: 
  - `popup/popup.js`
  - `background/service-worker.js`
  - `utils/storage.js`
- Breaking Change: 없음
- Firebase 스키마 변경: 없음

## 체크리스트
- [ ] Jira 이슈와 연결됨
- [ ] 모든 영향받는 프로젝트 테스트 완료
- [ ] Chrome Extension 테스트 완료
- [ ] Firebase 연동 테스트 완료
- [ ] 코드 리뷰 준비 완료
- [ ] 문서 업데이트 완료 (필요시)
- [ ] Jira 이슈 상태 업데이트 (In Review)
```

### PR 라벨 규칙
**타입:**
- `feature`: 새 기능
- `bugfix`: 버그 수정
- `hotfix`: 긴급 수정
- `refactor`: 리팩토링
- `performance`: 성능 개선

**프로젝트:**
- `extension`: browser-extension 관련
- `dashboard`: web-dashboard 관련
- `popup`: signin-popup 관련
- `cross-project`: 여러 프로젝트 관련

**상태:**
- `needs-review`: 리뷰 필요
- `approved`: 승인됨
- `blocked`: 차단됨
- `wip`: 작업 중

## 권장 도구

### bookmarkle-browser-extension
- **Linter**: ESLint
- **Formatter**: Prettier
- **Testing**: 수동 테스트 + Chrome Extension Test Framework
- **Build**: Webpack (필요시)
- **Version**: Chrome MV3 최신 사양 준수

### bookmarkle-web-dashboard
- **Linter**: ESLint (with react, typescript plugins)
- **Formatter**: Prettier
- **Testing**: Vitest, React Testing Library
- **State**: Zustand / Jotai (추천)
- **Styling**: Tailwind CSS / CSS Modules
- **Build**: Vite
- **Type Check**: TypeScript strict mode
- **Router**: React Router v6

### bookmarkle-signin-popup
- **Linter**: ESLint (기본 설정)
- **Formatter**: Prettier
- **Build**: 빌드 불필요 (정적 파일)

### 공통
- **Firebase**: Firebase SDK (Auth, Firestore)
- **Git Hook**: Husky (commit message 검증)
- **CI/CD**: GitHub Actions (Jira 자동 연동)
- **Package Manager**: npm / yarn / pnpm (프로젝트 통일)

## Jira 워크플로우 연동

### 이슈 상태와 브랜치 매핑
- **Todo** → 브랜치 생성 (feature/PROJ-123-...)
- **In Progress** → 개발 중
- **Code Review** → PR 생성 시 자동 전환
- **Done** → PR 머지 후 자동 전환

### Git Commit으로 Jira 이슈 자동 전환
```bash
# 이슈를 In Progress로 전환
git commit -m "feat(auth): 로그인 기능 구현

Jira: PROJ-123 #in-progress"

# 이슈에 작업 시간 기록
git commit -m "fix(api): API 에러 처리 개선

Jira: PROJ-456 #time 1h 30m #comment API 에러 핸들링 개선 완료"

# 이슈를 완료로 전환
git commit -m "feat(dashboard): 대시보드 UI 완성

Jira: PROJ-789 #done"
```

### Smart Commit 명령어
- `#comment <텍스트>`: 이슈에 코멘트 추가
- `#time <시간>`: 작업 시간 기록 (예: 2h 30m, 1d 4h)
- `#in-progress`: 이슈를 In Progress로 전환
- `#done`: 이슈를 Done으로 전환
- `#close`: 이슈 닫기

### 프로젝트별 Jira 라벨 활용
- `extension`: browser-extension 관련 이슈
- `dashboard`: web-dashboard 관련 이슈
- `popup`: signin-popup 관련 이슈
- `firebase`: Firebase 관련 이슈
- `cross-project`: 여러 프로젝트에 걸친 이슈

## 배포 전략

### bookmarkle-browser-extension
1. `manifest.json` 버전 업데이트
2. Chrome Web Store에 수동 업로드
3. 리뷰 승인 대기
4. 프로덕션 배포

### bookmarkle-web-dashboard
1. Vite 빌드: `npm run build`
2. Firebase Hosting 배포: `firebase deploy --only hosting`
3. 배포 후 동작 확인

### bookmarkle-signin-popup
1. Firebase Hosting 배포: `firebase deploy --only hosting:popup`
2. 팝업 URL 확인 및 테스트

## 환경 변수 관리

### bookmarkle-browser-extension
```javascript
// 환경 변수는 manifest.json에서 관리하지 않음
// Firebase config는 코드에 직접 포함 (공개 키이므로 안전)
```

### bookmarkle-web-dashboard
```env
# .env.local (Git에 커밋하지 않음)
VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_domain
VITE_FIREBASE_PROJECT_ID=your_project_id
```

### bookmarkle-signin-popup
```javascript
// firebase-config.js
export const firebaseConfig = {
  apiKey: "your_api_key", // 공개 키
  authDomain: "your_domain",
  projectId: "your_project_id"
};
```